<!DOCTYPE html>
<html ng-app="angularjsApp" ng-controller="angularjsCtrl">
	<head>
		<meta charset="UTF-8">
		<meta name="viewport" content="width=device-width,minimum-scale=1.0,maximum-scale=1.0,user-scalable=no" />
		<meta name="format-detection" content="telephone=no" />
		<title>我要捐款</title>
		<script type="text/javascript" src="../js/jquery-3.2.1.min.js"></script>
		<script type="text/javascript" src="../js/angular/angular.min.js"></script>
		<script type="text/javascript" src="js/jweixin-1.2.0.js"></script>
		<script type="text/javascript" src="../js/init-rem.js"></script>
		<script type="text/javascript" src="js/LAreaData1.js"></script>
		<script type="text/javascript" src="js/LAreaData2.js"></script>
		<script type="text/javascript" src="js/LArea.js"></script>
		<script type="text/javascript" src="js/order.js"></script>
		<link rel="stylesheet" type="text/css" href="css/order.css" />
		<link rel="stylesheet" type="text/css" href="css/city.css"/>
		<link rel="stylesheet" type="text/css" href="css/switch.css" />
	</head>

	<body>
		<div class="order_box">
			<div class="order_content">
				<div class="order_form">
					<div class="title_01">选择捐款金额</div>
					<div class="money_01">
						<span class="lightborder" onclick="selectMoney(this, 10.00);" style="margin-right: 0.4rem;">¥ 10.00</span>
						<span onclick="selectMoney(this, 50.00);" style="margin-right: 0.4rem;">¥ 50.00</span>
						<span onclick="selectMoney(this, 100.00);">¥ 100.00</span>
					</div>
					<div class="money_02">
						<!--<span onclick="inputMoney(this);" class="other_amount">输入其他金额</span>-->
						<input onclick="inputMoney(this);" type='number' id="amountMoney"   class="other_amount" type="text" placeholder="请输入金额" onfocus="this.placeholder=''" onblur="this.placeholder='请输入金额'"  />
					</div>
					<div class="title_01">捐款信息</div>
					<div class="form">
						<p>
							<span class="form_title">捐款人姓名</span>
							<input id="realName" class="form_text" maxlength="10" type="text" placeholder="请输入捐款人姓名" onfocus="this.placeholder=''" onblur="this.placeholder='请输入捐款人姓名'" />
						</p>
					</div>
					<div class="form">
						<p>
							<span class="form_title">联系电话</span>
							<input id="phoneNum" maxlength="11" class="form_text" type="text" placeholder="请输入联系电话" onfocus="this.placeholder=''" onblur="this.placeholder='请输入联系电话'" />
						</p>
					</div>
					<div class="form_max">
						<p style="padding-top: 0.3rem;">留言</p>
						<p>
							<textarea id="message" placeholder="请填写留言内容" onfocus="this.placeholder=''" onblur="this.placeholder='请填写留言内容'"></textarea>
						</p>
					</div>
					<!--<div class="form">
						<div class="left_none">匿名捐赠</div>
						<div class="right_none">
							<span id="no"><img src="img/no.png" style="width: 0.5rem;height: 0.5rem;"/></span>
							<span id="yes" style="display: none;"><img src="img/yes.png" style="width: 0.5rem;height: 0.5rem;"/></span>
						</div>
					</div>-->
					<div class="form">
						<div class="switch_title">是否需要票据</div>
						<div class="testswitch">
							<input class="testswitch-checkbox" id="onoffswitch" type="checkbox">
							<label class="testswitch-label" for="onoffswitch">  
					                <span class="testswitch-inner" data-on="是" data-off="否"></span>  
					                <span class="testswitch-switch"></span>  
					            </label>
						</div>
					</div>
					<div id="bill_information" class="bill_information" style="display: none;">
						<div class="title_01">票据收获信息</div>
						<div class="form">
							<div class="left_box">省市地区</div>
							<div class="content-block right_box">
								<input class="form_text" id="demo1" type="text" readonly="" placeholder="请选择地区"  value="广东省,深圳市,南山区">
								<input id="value1" type="hidden" value="20,234,504">
							</div>
						</div>
						<div class="form">
							<p>
								<span class="form_title">详细地址</span>
								<input id="detailAddress" class="form_text" type="text" placeholder="请输入详细地址" onfocus="this.placeholder=''" onblur="this.placeholder='请输入详细地址'" />
							</p>
						</div>
					</div>
				</div>
			</div>
			<div class="btnDiv"><button class="donateBtn" ng-click="donateMoney();">立即捐款</button></div>
		</div>
	</body>
<script type="text/javascript">
    var me = window;
    (function init(){
        me.number = getId('amountMoney');
        me.n = '';
        initEvent();

        function initEvent(){
            me.number.addEventListener('keyup', number, false);
        }
        function getId(id){
            return document.getElementById(id);
        }
        function number(){//金额，
            console.log(this.value);
            if(this.value == ''){//校验，用户输入后，输入框的值是否为数字，当不为数字时，取到的为空
                this.value='';
                this.value = me.n;
                return
            }
            if(!/^\d{0,9}\.{0,1}(\d{1,2})?$/.test(this.value)){//校验不超过两位小数
                this.value = me.n;
            }
            if(window.event.keyCode != 8){
                if(this.value%1==0 && me.n==this.value){//当用户按下非删除键时，新值和旧值相同,旧值为整数
                    return
                }
                if(me.n.indexOf(".")>-1 && me.n==this.value){//当用户按下非删除键时，新值和旧值相同,旧值为小数
                    this.value='';
                    this.value = me.n;
                    return
                }
            }else{
                if(me.n.indexOf(".")>-1 && this.value.indexOf(".")<0){//当按下删除时，删掉小数点时
                    me.n = this.value;
                    return
                }
            }
            /* me.n = this.value*/
            if(me.n.indexOf(".")>0){
                this.value = me.n;
            }
        }
    }())
</script>
</html>