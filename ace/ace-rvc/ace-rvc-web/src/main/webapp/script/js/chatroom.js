var uid = getParameterStr("uid");
var rid = getParameterStr("rid");
//    var uri = "ws://192.168.2.253:6001/rvc/live/websocket/r001/" + name;//本地
// var domain = "localhost:6001";
var domain = "1931507me2.iok.la:28228";
var uri = "ws://" + domain + "/rvc/live/websocket/" + rid + "/" + uid;//代理


var websocket = null;
//判断当前浏览器是否支持WebSocket
if ('WebSocket' in window) {
    websocket = new ReconnectingWebSocket(uri);
}
else {
    alert('Not support websocket');
}

//连接发生错误的回调方法
websocket.onerror = function () {
    console.log("websocket error");
    // setMessageInnerHTML("error");
};

//连接成功建立的回调方法
websocket.onopen = function (event) {
    console.log("websocket connected");
    // setMessageInnerHTML("open");
};

//接收到消息的回调方法
websocket.onmessage = function () {
    var data = JSON.parse(event.data);
    console.log(data);
    var action = data.action;//用于逻辑判断
    var content = data.content;//输出文本

    setMessageInnerHTML(content);
};

//连接关闭的回调方法
websocket.onclose = function () {
    setMessageInnerHTML("close");
};

//监听窗口关闭事件，当窗口关闭时，主动去关闭websocket连接，防止连接还没断开就关闭窗口，server端会抛异常。
window.onbeforeunload = function () {
    websocket.close();
};

//将消息显示在网页上
function setMessageInnerHTML(innerHTML) {
    document.getElementById('message').innerHTML += innerHTML + '<br/>';
}

//关闭连接
function closeWebSocket() {
    websocket.close();
}

//发送消息
function send() {
    var message = document.getElementById('text').value;
    // message= "/9j/4AAQSkZJRgABAgAAZABkAAD/7AARRHVja3kAAQAEAAAAHgAA/+4ADkFkb2JlAGTAAAAAAf/bAIQAEAsLCwwLEAwMEBcPDQ8XGxQQEBQbHxcXFxcXHx4XGhoaGhceHiMlJyUjHi8vMzMvL0BAQEBAQEBAQEBAQEBAQAERDw8RExEVEhIVFBEUERQaFBYWFBomGhocGhomMCMeHh4eIzArLicnJy4rNTUwMDU1QEA/QEBAQEBAQEBAQEBA/8AAEQgBDwEPAwEiAAIRAQMRAf/EAJYAAAIDAQEBAAAAAAAAAAAAAAIEAQMFAAYHAQADAQEBAQAAAAAAAAAAAAAAAQIDBAUGEAABAwMCAwUFBwMEAgMAAAABAAIDESEEMRJBUQVhcSIyE4GRobEGwUJSIxQkNNFicvFzFTXwM4KSQxEAAgIBBAEDBAICAwAAAAAAAAERAgMhMUESUWFxBIGRIhMyQqGxwWIF/9oADAMBAAIRAxEAPwCn6mP7XH/y+xNfR38Wf/cHySn1L/Fg/wAj8k39HfxZ/wDcHyWf9fqNbnowuXLkijly5cpKOUKVyAOXLlyAKHeYpHq4/ZS9yfd5ikerfwpe5Zv/AJKR5aiiiOiii0JAooojoooTogAKLqIyFFECBouoiouAQBwCIBcAiAQwCaEbQoARtChgBIPE1Nw6paXzNTUOqT2GhtqMIGowoGSuXLkgCXKFyBnKFy6qBmd9S/xYP8j8k19HfxJ/9wfJKfUhH6WAf3H5Jr6OP7XI/wAx8l1/1+pij0gXKFKQzlClcoKIXKVCAOUqFKYFLvMUl1Qfs5e5NyyRx1dI4NbzJosrqHUoJI3RM8TXWLv6LKzSLSMQNc6zRU9ikxEea3YumyiwbIvANLC5VALR4pnl1dGVv8EdrbpR/sfVcl4iaRUvFOy6mL02PB3gt4/6pOWVhrsBrxvoEuJSHHTvVJWstxPqjYy2ML9zKUI3W+KVolY81w8JFW8DVMsmjk8pvyTrW1VDJbTeh1F1EdFFFQiAEYCgBG0JMAmhGAoaEYChgVzC7UzFqFRMLtTEeoQ9gGWqwIGowoGSuXLkASuXLkDBKhSVCQGb9Rn8iD/I/JN/R38fI/zHyWV1nOiyyyGDxNjNS/gT2LX+kopI8eUvaWh7gW142XX/AFMlueiClQFKQzly5cpKOXLlBIAqbAcUgJSHUesY+Cw//pLwYPtKy+qfU7Gudj4TdzvK6U6DntC87V7hWu6nCt0a+wx7J6jPlyF8zi4G4aLMb3JcSOAO0UqOH9UMLBKw+Igt1bxUPMjQWsZYdtVMKYGpAc4g0LgTxoKU7zqo9QRiwBfxpqqWvcXEEUHYoDrkjQfFX1F2DklcXgOAHMf1Vby4jaPD3KaXaTqTc/Yo1BJ5mypJIlywDWwtRcxxa6xpfVcea43Nu9USPRZrHENLSBzTQobhZURDXtd7wtZpa5oLdDos7aPQtbHURtCiiIBSwDaEYCFqMBSBXP8AdTEYuFTPo3vV0fBJ7AMtRhC1GpGcuUqCQNbIAlcpaKiouF208kDAKFGQhpdACPQOjROhGVkDe43a3gF6GABriBYclhYHVWRYkeOwH1n1AJ0FOKYg6hPETud6h18WvwXasV7S0RWumhvhSlcTMZk128KVTSzFBy5cuUFEOcGtLnGjRcnsXjur9bkzaCPwQtJbY614n2Ld61nvx2PgDa+tGQ09uhXjiwxVa8Ua7gUKG/YewuSdeNVayTgXdx4hBJStr/8AnYr8Pp82Q8EijeZVtpKXoSk24WpEcux9OBsTStFfLjzAV8IBFdwNaha8PSYWtAIvz5qx+FEG0DbDhzWDyqdEdNcLjVnnWQ7tBUurbuGqqcwhwZS/LuWtPjyRytkjsWWFe3X3qieEV8TdrgTQjhW9Fdb6z5MrU4M88OypQ3Ap+KnxTDoCyMF2jmn2Krbe/s9i0TREAGPcaDWqh7HA1AtS/erS0VBpWtSKKNzhxqP6IlihFdSKHgE9gy1aYzw8qSIFj7FbjHZKHD2otsCNQBEFACIBZjDajCFqMKWBXPo3vV0fBVZHlCsj4JcDQ01WBVNRpDDS+cSIaiyvS+d/6ChbiYzhPIxWmlSrjP8A2qrpdDjBOFreSBCpyWcWoDkw1FW34K5z2DUICYiQduiiddw18mFgshGVtAqYzZx7booo8h+U6Yv/ACqkBncVdCxjZQ8ChdQkqYND/kfmvb67ffQtIe+nnEzZDTwIW8VgfT1svKHaF6BcWT+Vvdmb3IXLlyyGY3Xoon+mSaSjy21BXnMqKWTxa2oAK0+K9xLCyUeIXGhSWRhRRtG1o8TlDlOUXWHCMDA6IwMEk4q432rWjgawUAp3JljALKygpooadtWzevWuyFS0gIHAplzexVPba4UQazoZuU0kG3uWbK55u41HlWvksIboexZWTjSOBdE61btNldPDMMi5Qo952hp4AtKqa2nbzVpgkdUh3aWoNjm3PtK3UGDkja0Co56KsgXvrdNQYmTkikLCQeOg76qcnp2VjNDpmeHTcDUJdknE6j6WiUnHkRpzUts5p7UTmgIWUL2g8wr4INoaBGFFEQWJQQRBQ0IgFLEBkeUI49Ahn8gRR6BHA0MNRhA1GEhhKjMvCVcocA4UNwgQXSz+3pVPnRZ0bGsFGmiOp/EUCgsfG69uKAsdYU4qC5/ByH1JfxKOoQEOhZjS0iZhDacDWyri6RmhtfDck69q9EVXEatPYSPivQ/dfz/gOzMno+LLj5mT6lKnbSi2EtAP3Up7B9qaWTbbbYuSFy6qFQMmqqyW1jryKsQyCsbh2JMdXDQoAEagADVVzZcELayPA7KpQbyS5Afek/8AlRIaQsL+0An4o48iUnxMIHK1VLRpVjGwU0S+VCHMJA0Fk0ypANKKJG7mFqlocSee9MElwNK2PerMbCGSQ2nhtv7KKyXHLDewqa9/BO9OAGMA3XQnmm7aGaprqDkgwenjY21gOtwCQLWUzwtYNjgS2RprU1uL8UGaP3Aa+P1GNbUk3F0TSXY7TUkMcdpOtKKZ0OmvC4MHOxhE6nYkmi9eK2ers/LY7lZYzdVvjc0ODLWLtI3GiwPYjAUM8re4IwFAiQEQC4BEAkIqn8ilmgUzj8tczyhHAFzUYQhEEhkqDopXHRAGcMqX9Tsr4arTrQVIqsYj977VtgMpSqL7r2EgGuY8GnBTtapYyNgJae9TRo46qNRm6VTj+Vx5vdT3qnqfUYcDGMsh8bvDEzi550CnADmYsTH19QNq+uu43K6yCYP5UvcEwUrAf3UvcE0dEvIA1XKFygZyh1S0gGhIsV1V1UpGZZblSD9PmMMbjXZLGasdT5e1JzdAjqTuL3HSpsCt558BVD6kolmtPyWphY+HnQ5EcD5nmAkVAIpSl6WrqtSHD9Ml29xHDcaphkQrU8FZUG3wVbopKHoAT4e1VONRzVkioe6izsa0M7qLg0FD0iZpa+OuhqEPUnAgj3rKilfBMHsOhuElXtV+SLW63ng9GyEvmc+R9WgANZw9q6VzaljL8zyHJJtymTgGN5aXU3NTUcYa2xrzWb2jk3q01oLZsHrQFo14LzzInOLhS4+a9S7RZ7sVjJnSC269O1PHl6yn9DLNi7NP7kY5rBGf7QrgFTuixwGyPDAfLVMAEUroQCDwIK1mVK5OZqHD4JARgKAiokSBOPy0LPKEc4/KKBnlCOBlwRoAiCAJXFcuQBnuxJjk+o1tWgrUbKKCsZqFbiAGqY2t5KuvZJkiRmjA8hUetEeBsntjOSB8cfhsNR80njHIzmYONmbDOwP9M1ZXgVAJ20+/Gb9tFxkkH3kh1XKyMXGflREb2UFCLGpVrJVuNdQ6NajONK1+XJtOguOIPanlg/TvqSCXJlNZJXVd3reT8kgqESEqCiFy5QUgBe6jSlnzNa7xGgOiZcARfSqzcrJhicGlrpHnRrftOgRrBvhiHI3HkROdtrdXU4rJDZXyMoz0jUEgu3UAOtua1gRRVWeSsiSjq5kpfRLSkAGmpTUlLrPypQxpA8x4KbjqzPypGudQizgkZWAEupQOGo0TUhMlSBWiXeGkalvAg3SroRbUpjcQWmm41oKG638aTfED8l5521jgQ7XQNutvCcfTAOtL3qllWzKwPVoZcLKhzansV+qBwXNY6dzM6lj+uGQ/eLgGnkSaLYbAwwti0DAAw8qCiVZEJcjfwjv/API6JsPazzGvIBdWJP8AWvucWaO7+wuWFri06hSFe8slNNCBryqbIDFINWnv4IaMyqYflFAweEJiWB5jLaCvKoVbYZQAC0jv0RAHBEuLS3X3i6kIA5cuUoAZxOKYS2K8AmqY3Dmta7Es4oX6DvCIubzQOc21+IQ9gLS53JZ3XXH/AI2S2paPitErN67/ANdJ3t+a56/yXujW2z9g/p3+Me9bKxvp3+Me9bPBb+TI5CUSgpDBKhSoUgQl8yMnHf6TRvNL0GlbphcgcwYPoOheHySUJ1vWiubmkWY8SE6AcU1l4eK6T1HsqBci+094QNliDtrAB/RVC3k3Tq1KBdlOcw2IIGixsvIcZgXGja+4pzqWUGXYaObqsKaf1CSeNwhVki140LzkOFSDcVr3JeWUPNSq3SAX1KrLiTQWqrVDJ3GcZoklGm0XpzWzjHsKycYBlufxWtigkd6yy6s3w6Do0QyGjbXJsB2om6LgWt8bqW8tefNY1xu1kje2RVq39gSBBFT73E9qCGprK82HFVzvdJpp7laxxcxrBYHzdoGq7FXhcHC3y+SyEiu51DQeo722YEzE10jd7ztYfKPtVGPG6Ivlmo7e6ob+FoFBXu1U5Oa1lybc9B7OJVdY4JktcyCI1rV2tXXKUmyoK3eSkZcqWc+AGnZZVmN9PGb8Gi5Uuo5HPVjcbbhyIKuaBt3B1efBIRMcBayYMlAPeVNkNDQ0XaKqOSoqhmnDQs44Gy0yhqvbOygWDNmGtAijyZHUui+NtImTe3tc2yX3EnVLQ5DuKMSi5U1q1JScmw5ZvXf+uf3t+a0S4EWWd13/AK5/e35qa/yXui7bP2LPp/8AjHvWxwWN9P8A8c962Fv5MiVBUqFIyChRFCUhnFQSpQlICuWhJBuCLrIfjuhyS4ElrbgdhqtaTzJDqEcgYZYRVwFC3mEk/wAmVXQ8/wBQyHOmJPaD2rPeRU0Pcm8s7neUhxNwRoeSobg5kh8MTqczYfFdNYSMrS2L7lbCwuNdU7F0SVzdzz4xfaOXG6ahw2RtoO9K1lGg6UbepTjQHdU8OPJa2PHtbTlwVLYwTbhqnYQKVPBYvU6aqAgNALc+wBJZErXyFvAcOSZypvRZT7ztR2clnl4b4pBV50AWuOnVerMsl+z9EWTyBjNwNK/PgrsY+lC+eStWDU8zegVEcchImkofwN4VOgTEwBkixSfBEPVnPPiB7StUuTFls2UIcdlRukc0EN773SJjc787JNXOu1iaazcXZUun3BzQRRmWXfJohgicfGkn4bGdidjwcePxEbnc1dE2jfwtHOwUmWFo13HsWbKQDmQ08gWVmt9MnbpyK035LQKtbZY/UcjcktxsU/VvidQGo4hdPkiQVab8Qs98pLirIQXOHNV1W5EyMwQGU1K0osVzWigRYUA2tdSnMJ8AALKzllpGdKwtCoEvBaOS0FhWSR+ZTtTWqDY2cbK9Q0Q9cv05/e35pTGftlomOsur0x/e35rJ165Ev+yN8q0+hd9Pfxz3rZCxfp4/tz3rZC15ZzkrlyhSUcUJRFCUmBCgrioKQFUmqonPgV0uqXn8iztuykZ9QdUbA57g1tyVUCmoS2HHfM7Ug0PYFvWsuBWcKSMh0ePA8jxOa2tebtGj3rzsWfkY1dw9Rv4Xaip4FaM87nYvqP1lcT3NFmrJkO4GvGw7AFv1URBl2cymbmDlRZUe5nCxbxBTgeGCrrN4W8x/C1ZODiTRYL58dtJX0q6ty038PDRWMMsEIgkk3GlR95zK9v8ARSsaTnct5bNRt5Cy53b9p8Up+7y70ELSX1cdzuJVfhaRV1Gnyv8AxJTG6i5kxZIdzSbGlCKcLKiWzcxm+pkA1oyEbnDmeCnHYcjdJ97JeadjI/D/AFVc0rsXpjnbiZJtOC1MSFuPjsaR42sa3uACqCZKMhgFBoxooAl45B6lGjc7gOAV+WHvs3Xiq8XZC6/m4lJlIZbDJJeQkCnlR+lG3T4qfXYRfUKmbIaAoY0BkSNa06Lz3UJwXGibzszUArFlkL3IrXWRWZDAXuWpi45oHDUfJKYsNSCtrFZtboizFVDMB2sa6ljw5phKxyFrnMItW3zV7XggrJo0RVkuo1ZZP5le1O5cliEi0VJPIIqJlsUlJrpvqjt3THd7fmkHEB4ITOa/d0x4/wAfmry0/NP1RtZzT6Dv08f2571tBYn08fyHd622lQ92YBKFKgmgSKWpBK5LyTgOorWOqEpNbYnWqs+QiEJRFCdEjMpm1Ss/kTMt3Jedrthss7bsaMsG9OKt6o4w4Gz71A0DtN0WDDvmLneVl/arMqH9VkQs1YwF5HM1oF2Yq8mWR8GPmYswxI2OJFgWu4VAFjyWY88AagWJXrs1sYxy14DhrfsXnHwtfGZY2kRNNHD8JP2LVozQx0eWeZhxhIQyM6DWhqRc6cVpDFZFE8ilXDaOJrXWpWB02URZwuQ13hJ+I+IXpN7ZiGx+UJFIym472v2kVjuCPiuh6WH5Ue0Ahzq7+YHNq2mYwIJohwMV0U0sh8tKNB5nWiXI4Euo7ZM7ExtGb2inY3/RbTSXX7SVgTAu63CNQCT7mkr0EHkbXSgJVcEvcrljLhyHNZs7jGTtFAOK1pXDv5BZPUY5HtNTRvIIGJv6g1p8TvYEtP1LdZlQkMioeQoYG0q4qWgkmWV7zdRFEXuUkg2AV0IcbAJcByP4kO2i0QAGhLYkTtosa8k5+nkN/isnuaIXdUPbax4hc+XYORXZRMQrWhFEjPNU6+xOJE2WTS+oahHHH+W4/wBp+SWxhvftWqyKkZHYVNtNB11MqSTcbK2WVrsB7C4bjSg9qRa41uieKhd98aY+2jRufTzh6Lh2rdYdF4bAnnx8tnpuIDzRw4Fe3iPhC48lOtt5khOS5VyuoFYTZUS+KyziTXEl2l7IRJL5a8AnIpABdVljWhLCR3qkcAq/U47eB/J+bjd6417GmCCFxVUL6tTEbd11m2QCIa3KiSEFtKJrbZAaVXn58j7Rt2cGtDPOOIWmliblLsLRSnmcLlaORTaVjTStikvovb+NRPGkuEc2XefJHUiDGWDiFRBjNjwPTI/9td/aCqZ8sSO211smGzNcwN4CytLWCPUwsrCkwMmIu8UZIc1/Aitwe1b+D4W0NPwj2WXZkceTB6L+IseTuBVGI8jJ2uvQkD3q/wBFonwJXW3k3oIqhE+DaDTir8Zo2hWyMBCwe5aPGdQLoOrQOaC524VaNSHeEgewr0YaWtDRqgOFF+r/AFThWQDaz+3me9WkEWFzzVToEagO9OIEuNTyWH1PKkfURt2tHErafEAC55r2LB6tlNFY2AVKnUZi+m+WTnzKu/TsaLuCGNrjfiifG6lTZJsUEUiadansTuLPispuaXe1ZdfEmInNSaGmbY6vCwARxe1VydXlkswUWcPTNyjEjRZtlMLwVLLJJ5Xg7+KWaC6itNwV0RNg0X5p+wi/GjLHNJtda9ABRZkbCLuuU+14dBXkCPcs7lVPNmxVjHVFFMsZY8tdqFUDtK9PdEpmv0vBD3iVwvwXpWCgCyukSRvhaRrxWqXANXHmr+TCQnSABUSSClUpl5ojrVKHMdIygsCniwu2vBz/ACfm0w1an8uEM5GUa0ahbuN+aphbuK0GRAgLbMkq9Uef8HtlyvLd86IOCq0IqUCVYzarBJtXmZfwUvY9xKdENE0VD3eJA7Iroq3vo2q81NZ8qrX+rmTZLqpZGRIA01K8t1PLBlIBWj1TO9NjqG68tNKZHkk6r3/jt0rr7I5ssPQu9R73jatSBsjYqlB0HBZkAyvuxhpTmV6T9NAWbCwAKK/IVcu0w9RrDNJ87HncrIc1gANKgXQ4sp9Zrq8bqvqsfoTvirUA+E9huqsV2h5L3sarbDK5X+zzrN1yw+D3GE/dGCmX6LM6XLujHctEmy8bLWLNHYnoUSWVRdQGgVsgqUpPMxgI3C3AXKngYn1HIc1hANAvMyH1ZiSbVWr1JzpAdoPtCyxC9lyCk2vI4fgvYQ0UABVOVPUbQKKDJtHEFBFGZX1Kn1D0KmxE3VjYnDRacGG21Bbimf0DaWSdxqpjNY9XxwO4hagwmALpGMjYTSwCXYcGe5m53pjh5j9ivY1rBRo7yqmsJ8RsTcq1pAHPtTEHVx1oFdA+sUjeQJ+CXNaI4yW1HNpHwU2Wg0R1bELHeoB3rIevX9QxxJG4UXk54zHIWlduO2kEjPTct0ElK2K3v1tY9V5VpoU/HkHaBVLLVW1HwNZkvqEIYTZUF1SFZGb0W2NdaJHgfNbvlt6D8Dw01OhWtBQtBCx8dpfRnErbxodjAOSy+Q6pepr/AOb37WUfigyLJadxanSyyVyGVaVw3qr1aPcq4Yqye9yoyMloYbpHLe6GpCy589xBFVyYPi/rs2uWa2yaalHU8oyPLQbLOVkji9xJUNbU0Xo8Qczcts1ehdSjxC+KY7WPNQ7gDpdbUvWcCNm71d54NbcryRFDTkuqsnhq79tfU0rlar1hOBrOynZU7piKB2g5AaKIHUS9ahGwr6H4zTxJLhHmZ5/Y2+dT1vRH1bRbfBeb6BJwK9GDZeX8qsZWdmNzVCmWXUoDQJTYKJzLFQl2hcN03bU6qWSpoLSYwfqErNhgCwWqqpWghXBnOp5rIxiTSiqEcsHjj4atOi2pohVKFo4hZXyxsbVxSpYeBnwzgsA2St1aeXYnmEtNv/r/AEXmcndj5AliO1zTUFbOH1fDyQGl3pycWOtfsKqJUrkzmG0x5zgRUWSOdkCMAUqXH4BMyU1Bpz7ln5EsZmLXiu2ydFqKxzMuM+dqsEkLrNN1WxuO8Wsp9GPn7VbS9RalpbbXXjVRSnHXigEZGmg5qauUwB6ubHLwsXN+n3zv3NdtK9PtC7YFsrNEI8cfpmcffBUs+n8hv3l6/wBMKPSCf7GOTzDOhyWq7RMR9GDTWpW/6YXemEftttJg/jYnZ2dVLMvGwBG/ctFraBFsopAWWSbcl48dKfxUcguFkvI2qaIUFgKmtINOx5/qWK6RhoLrzM+HkNcfA73L6G6Fp1CrOLGeAVqsA7SfP4unzvNdpHsVo6fNGdxYSO5e6/RxfhC44sdNAhyC6ngJsd/mEbgT2KgQy/gPuX0F+DEdWhV/8bB+EICEeEbDKfuFG3GyK+Qr3I6dCPuhEMGL8IXbg+X+usRJlkw1vyzz/Ro5mSCrSAvTsrtCCPFYw1ATAZQLDPnWS0xBdaKqSQtO0kJYMdyWi5lUHphc7epa2EtjuSrfG6i0dgVcrBRTZuCqxJhZFQbpCZ9DbitPqDQ0ErAyJ6AnjwXOqu1jqtdVqKZr/UftB7yk3NI1TDRudU6lcW62XbWsJI4bPs2x/o2W8iSCRxcGt3MrwpqFdtbIS46k1WdgAiZxbqWOA7ytCNzXMHBCrq2NPRIkRCllYKj2KADwNUV+KTGEH8F24k314KK8rBcDanxUsZ7xcoClaGZy5cuQBChSoSGQUKIqEAcApouAUpiIou2qVyAB2qNqNRRAAFqjYjUIAHaiDQuUqGxo7auopC5ZtlAkICFYQhICaYAKqWlFcR2qqRopqmxowOrPNDReekY6R3YvSdVa3YbiveseNja+YV708NJljy20SE2Y3KtkTcF7yb0B5BaIEbADXceQVgfXRtFu6mSFGYrceMbRWhBJPu+1QxoBc0mpBNTwV873lhG0ioN6JaN7t9aG4BpTjxSnwMsJNbLg4g8kW4/huhrXs5pMaJDibFTW1K3Vam1PYs2M/9k=";
    var action = "text";
    var jsonData = {
        action: action,
        content: message
    }

    websocket.send(JSON.stringify(jsonData));
}


function getParameterStr(name) {
    var reg = new RegExp("(^|&)" + name + "=([^&]*)(&|$)", "i");
    var r = window.location.search.substr(1).match(reg);
    if (r != null) return decodeURI(r[2]);
    return null;
}

function clearTxt() {
    document.getElementById('text').value = "";
}